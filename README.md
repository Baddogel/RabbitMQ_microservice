# üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ ML-–º–æ–¥–µ–ª–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º RabbitMQ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è **–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫ –º–æ–¥–µ–ª–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—à–∏–±–æ–∫** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **RabbitMQ** –≤ –∫–∞—á–µ—Å—Ç–≤–µ –±—Ä–æ–∫–µ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π.

---

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

1. **`features.py`** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–µ–∫—Ç–æ—Ä—ã –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∏ –∏—Å—Ç–∏–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –≤ –¥–≤–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ RabbitMQ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º ID.
2. **`model.py`** ‚Äî —Å–µ—Ä–≤–∏—Å –º–æ–¥–µ–ª–∏: –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏, –¥–µ–ª–∞–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ –æ—á–µ—Ä–µ–¥—å `y_pred`.
3. **`metric.py`** ‚Äî —Å–µ—Ä–≤–∏—Å –º–µ—Ç—Ä–∏–∫: –ø–æ–ª—É—á–∞–µ—Ç `y_true` –∏ `y_pred` –∏–∑ –¥–≤—É—Ö –æ—á–µ—Ä–µ–¥–µ–π, –≤—ã—á–∏—Å–ª—è–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω—É—é –æ—à–∏–±–∫—É –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ CSV-—Ñ–∞–π–ª.
4. **`plot.py`** ‚Äî —Å–µ—Ä–≤–∏—Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏: —á–∏—Ç–∞–µ—Ç –ª–æ–≥ –º–µ—Ç—Ä–∏–∫ –∏ —Å—Ç—Ä–æ–∏—Ç –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—É —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫, —Å–æ—Ö—Ä–∞–Ω—è—è –µ—ë –≤ —Ñ–∞–π–ª.

---

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –®–∞–≥ 1: –ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (`features.py`)
–°–µ—Ä–≤–∏—Å model.py —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –æ—á–µ—Ä–µ–¥–µ–π features –∏ y_true

- –°–∫—Ä–∏–ø—Ç –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º —Ü–∏–∫–ª–µ –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞.
- –ö–∞–∂–¥–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ timestamp.
- –°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –¥–≤–µ –æ—á–µ—Ä–µ–¥–∏:
  - `features` ‚Äî –≤–µ–∫—Ç–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –¥–ª—è –º–æ–¥–µ–ª–∏.
  - `y_true` ‚Äî –∏—Å—Ç–∏–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.
- –ú–µ–∂–¥—É –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è.

### –®–∞–≥ 2: –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ (model.py)
–°–µ—Ä–≤–∏—Å model.py —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –æ—á–µ—Ä–µ–¥–∏ features –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –æ—á–µ—Ä–µ–¥–∏ y_pred.

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–µ—Ä–≤–∏—Å:
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å –∏–∑ —Ñ–∞–π–ª–∞ myfile.pkl —Å –ø–æ–º–æ—â—å—é pickle.
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ RabbitMQ –∏ –æ–±—ä—è–≤–ª—è–µ—Ç –¥–≤–µ –æ—á–µ—Ä–µ–¥–∏:
  - features ‚Äî –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
  - y_pred ‚Äî –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π.
- –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –æ—á–µ—Ä–µ–¥–∏ features:
  - –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç JSON-—Å–æ–æ–±—â–µ–Ω–∏–µ.
  - –ò–∑–≤–ª–µ–∫–∞–µ—Ç id –∏ –º–∞—Å—Å–∏–≤ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.
  - –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏ –≤ numpy-–º–∞—Å—Å–∏–≤ –Ω—É–∂–Ω–æ–π —Ñ–æ—Ä–º—ã.
  - –î–µ–ª–∞–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –º–æ–¥–µ–ª–∏.
  - –§–æ—Ä–º–∏—Ä—É–µ—Ç –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ç–µ–º –∂–µ id –∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è.
  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ –æ—á–µ—Ä–µ–¥—å y_pred.

### –®–∞–≥ 3: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ (metric.py)
–°–µ—Ä–≤–∏—Å metric.py —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –æ—á–µ—Ä–µ–¥–µ–π y_true –∏ y_pred.

- –°–µ—Ä–≤–∏—Å —Å–ª—É—à–∞–µ—Ç –¥–≤–µ –æ—á–µ—Ä–µ–¥–∏: y_true –∏ y_pred.
- –ü–æ—Å–∫–æ–ª—å–∫—É —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, —Å–µ—Ä–≤–∏—Å –≤—Ä–µ–º–µ–Ω–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ –ø–∞–º—è—Ç–∏, –æ–∂–∏–¥–∞—è –ø–∞—Ä—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º id.
- –ö–∞–∫ —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ id –¥–æ—Å—Ç—É–ø–Ω—ã –∏ y_true, –∏ y_pred ‚Äî –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∞–±—Å–æ–ª—é—Ç–Ω–∞—è –æ—à–∏–±–∫–∞
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª ./logs/metric_log.csv

### –®–∞–≥ 4: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –æ—à–∏–±–æ–∫ (plot.py)

- –°–µ—Ä–≤–∏—Å –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º —Ü–∏–∫–ª–µ —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª metric_log.csv.
- –°—Ç—Ä–æ–∏—Ç –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—É —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö –æ—à–∏–±–æ–∫ —Å –ø–æ–º–æ—â—å—é matplotlib.
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≥—Ä–∞—Ñ–∏–∫ –≤ ./logs/error_distribution.png.
- –ì—Ä–∞—Ñ–∏–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–æ–≤–æ–º –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

---

## üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ docker-compose.yml.

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É
   ```bash
   docker-compose up --build
   ```

2. –ù–∞–±–ª—é–¥–∞–π—Ç–µ:
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∞ ./logs/metric_log.csv
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ ./logs/error_distribution.png
